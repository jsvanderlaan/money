<div class="p-6">
    <h2 class="text-xl font-semibold text-gray-800">Transactions</h2>

    <form
        class="mt-4 space-y-4 border p-4 rounded bg-gray-50 hover:bg-gray-100 hover:shadow hover:cursor-pointer"
        (submit)="processFiles(); $event.preventDefault()"
    >
        <div>
            <label class="block text-sm font-medium text-gray-700 hover:cursor-pointer">Upload .TAB files</label>
            <input
                type="file"
                accept=".tab"
                multiple
                (change)="onFilesSelected($event)"
                class="mt-2 block w-full text-sm text-gray-700 hover:cursor-pointer"
            />
            <p class="text-xs text-gray-500 mt-1 hover:cursor-pointer">
                Select one or more .TAB files. Non-.TAB files will be ignored.
            </p>
        </div>

        @if (files.length) {
        <div class="text-sm text-gray-700">
            <strong>Selected files:</strong>
            <ul class="list-disc ml-5 mt-2">
                @for (f of files; track f.name) {
                <li>{{ f.name }}</li>
                }
            </ul>
        </div>
        }
    </form>

    <div class="pt-4">
        <button
            type="button"
            (click)="processFiles()"
            [disabled]="!files.length"
            class="inline-flex items-center px-4 py-2 bg-indigo-600 text-white rounded hover:bg-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed"
        >
            Process
        </button>
        <span class="ml-3 text-sm text-gray-600">{{ statusMessage }}</span>
    </div>
</div>
